<div class="container">
<h1>芸人一覧</h1>

<div class="search_comedian">
  <%= search_form_for @search do |f| %>
    <div class="genre">
      <%= f.label :genre_cont, 'ジャンル' %>
      <%= f.text_field :genre_cont %>
    </div>

    <div>
    <%= f.label :comment_cout, 'キーワード' %>
    <%= f.text_field :comment_cont %>
    </div>

    <div class="submit">
      <%= f.submit '検索する' %>
    </div>
  <% end %>
</div>

<table>
  <tbody>
    <% @comedians.each do |comedian| %>
      <div class="centering_item">
        <% unless comedian.combination_icon.url == nil %>
          <p><%= image_tag comedian.combination_icon.url %></p>
        <% end %>
        <span><%= comedian.combination_name %></span><br>
      <p><%= t('view.comedian.genre') %><%= comedian.genre %></p>
      <p><%= comedian.comment %></p>
        <% if current_user ==  nil || current_user.id != comedian.user_id%>
          <span><%= link_to '詳細', comedian,class: 'btn btn-default'  %></span>
        <% elsif current_user.id ==  comedian.user_id %>
          <span><%= link_to '詳細', comedian,class: 'btn btn-default'  %></span>
          <span><%= link_to '編集', edit_comedian_path(comedian.id),class: 'btn btn-default'   %></span>
          <span><%= link_to '削除', comedian_path(comedian.id), method: :delete,class: 'btn btn-default' %></span>
        <% end %>
      </div>
    <% end %>
    <%= paginate @comedians %>
  </tbody>
</table>

<% if current_user !=  nil %>
  <% if current_user.entertainer != false %>
    <%= link_to "芸人を追加", new_comedian_path, class: 'btn btn-default' %>
    <% if current_user.admin ==  true %>
      <%= link_to "ユーザー一覧", users_path, class: 'btn btn-default' %>
    <% end %>
  <% end %>
<% end %>
</div>